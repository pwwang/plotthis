<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Process the enrichment results from Enrichr — prepare_enrichr_result • plotthis</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Process the enrichment results from Enrichr — prepare_enrichr_result"><meta name="description" content="Process the enrichment results from Enrichr"><meta property="og:description" content="Process the enrichment results from Enrichr"><meta property="og:image" content="https://pwwang.github.io/plotthis/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">plotthis</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.6.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/all-palettes.html">All available palettes</a></li>
    <li><a class="dropdown-item" href="../articles/basic-design.html">Basic Design Of The Plots</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/pwwang/plotthis/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Process the enrichment results from Enrichr</h1>
      <small class="dont-index">Source: <a href="https://github.com/pwwang/plotthis/blob/master/R/enrich.R" class="external-link"><code>R/enrich.R</code></a></small>
      <div class="d-none name"><code>prepare_enrichr_result.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Process the enrichment results from Enrichr</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">prepare_enrichr_result</span><span class="op">(</span><span class="va">data</span>, dbname <span class="op">=</span> <span class="st">"Database"</span>, n_input <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>A data frame containing the result by Enrichr.</p></dd>


<dt id="arg-dbname">dbname<a class="anchor" aria-label="anchor" href="#arg-dbname"></a></dt>
<dd><p>A character string specifying the name of the database column.</p></dd>


<dt id="arg-n-input">n_input<a class="anchor" aria-label="anchor" href="#arg-n-input"></a></dt>
<dd><p>An integer specifying the number of input genes.
Enrichr result doesn't ship with the number of input genes.
You can either provide the number directly or we will infer it. See details.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A data frame that can be used in <code>EnrichMap</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>In order to use the <code>EnrichMap</code> and <code>EnrichNetwork</code> functions and other visualization functions in <code>plotthis</code>,
the enrichment results from Enrichr need to be processed by the <code>prepare_enrichr_result</code> function.
The following columns are renamed:</p><ul><li><p><code>Term</code> -&gt; <code>Description</code></p></li>
<li><p><code>Genes</code> -&gt; <code>geneID</code> (separated replaced by <code>/</code>)</p></li>
<li><p><code>P.value</code> -&gt; <code>pvalue</code></p></li>
<li><p><code>Adjusted.P.value</code> -&gt; <code>p.adjust</code>
Additionally, GeneRatio and BgRatio columns are inferred.
From <a href="https://maayanlab.cloud/Enrichr/help#background" class="external-link">enrichr's documentation</a>, the oddsRatio is defined as:
<code>oddsRatio = (A * (D - B - C + A) / max((B - A) * (C - A), 1)</code>, where A is the overlapping genes; B is the total genes in the gene set;
C (n_input) is the genes in input list; D is the total genes in the background.
D is not provided by Enrichr. To infer it, <code>D = oddsRatio * max((B - A) * (C - A), 1) / A + B + C - A</code>.</p></li>
<li><p><code>Overlap = A / B</code> (from Enrichr)</p></li>
<li><p><code>GeneRatio = A / C</code> (from ClusterProfiler)</p></li>
<li><p><code>BgRatio = B / D</code> (from ClusterProfiler)
<code>C (n_input)</code>, if not provided, will be inferred when <code>D</code> for all terms are equal.
When starting inferrence, the minimum value to try will be unique genes in <code>data$Genes</code>/<code>data$geneID</code>.</p></li>
</ul></div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Panwen Wang.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

